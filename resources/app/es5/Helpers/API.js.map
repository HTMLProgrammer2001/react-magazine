{"version":3,"sources":["Helpers/API.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BAAuD;AASvD;IAAA;IAyFA,CAAC;IApFa,eAAW,GAAxB,UAAyB,MAAe;;;;;;wBACnC,IAAI,GAAG;4BACV,IAAI,EAAE,MAAM;yBACZ,CAAC;;;;wBAKU,WAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAA2B,cAAc,EAAE;gCAC7E,MAAM,EAAE,IAAI;6BACZ,CAAC,EAAA;;wBAFF,QAAQ,GAAG,SAET,CAAC;;;;wBAGH,WAAO,KAAiB,EAAC;4BAG1B,WAAO,QAAQ,CAAC,IAAI,EAAC;;;;KACrB;IAEY,kBAAc,GAA3B,UAA4B,IAAY;;;;;;;wBAI3B,WAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAe,eAAa,IAAM,CAAC,EAAA;;wBAAtE,QAAQ,GAAG,SAA2D,CAAC;;;;wBAGvE,WAAO,KAAiB,EAAC;4BAG1B,WAAO,QAAQ,CAAC,IAAI,EAAC;;;;KACrB;IAEY,eAAW,GAAxB,UAAyB,SAAiB,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;;;;;;;wBAMjD,WAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAClC,eAAa,SAAS,iBAAc,EAAE;gCACrC,MAAM,EAAE;oCACP,IAAI,EAAE,MAAM;iCACZ;6BACD,CACD,EAAA;;wBAND,QAAQ,GAAG,SAMV,CAAC;;;;wBAGF,WAAO,KAAiB,EAAC;4BAG1B,WAAO,QAAQ,CAAC,IAAI,EAAC;;;;KACrB;IAEY,cAAU,GAAvB,UAAwB,SAAiB;;;;;;;wBAI5B,WAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CACnC,eAAa,SAAS,gBAAa,CACnC,EAAA;;wBAFD,QAAQ,GAAG,SAEV,CAAC;;;;wBAGF,WAAO,KAAiB,EAAC;4BAG1B,WAAO,QAAQ,CAAC,IAAI,EAAC;;;;KACrB;IAEY,gBAAY,GAAzB,UAA0B,IAAuB;;;;;;;wBAIpC,WAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAM,WAAW,EAAE,IAAI,CAAC,EAAA;;wBAA5D,QAAQ,GAAG,SAAiD,CAAC;;;;wBAG7D,WAAO,KAAiB,EAAC;4BAG1B,WAAO,QAAQ,CAAC,IAAI,EAAC;;;;KACrB;IAEM,WAAO,GAAd,UAAe,GAAQ;QACtB,OAAO,UAAU,IAAI,GAAG,CAAC;IAC1B,CAAC;IAvFM,aAAS,GAAG,eAAK,CAAC,MAAM,CAAC;QAC/B,OAAO,EAAE,2BAA2B;KACpC,CAAC,CAAC;IAsFJ,UAAC;CAzFD,AAyFC,IAAA;AAED,kBAAe,GAAG,CAAC","file":"API.js","sourcesContent":["import axios, {AxiosError, AxiosResponse} from 'axios';\r\n\r\nimport {IProductsResponse} from '../Interfaces/Responses/IProductsResponse';\r\nimport {IFullProduct} from '../Interfaces/IFullProduct';\r\nimport {ICommentsResponse} from '../Interfaces/Responses/ICommentsResponse';\r\nimport {IChangeLikeResponse} from '../Interfaces/Responses/IChangeLikeResponse';\r\nimport {IRegisterFormData} from '../components/RegisterPage/RegisterForm';\r\n\r\n\r\nclass API{\r\n\tstatic clientAPI = axios.create({\r\n\t\tbaseURL: 'http://localhost:8000/api'\r\n\t});\r\n\r\n\tstatic async getProducts(offset?: number): Promise<IProductsResponse | AxiosError>{\r\n\t\tlet body = {\r\n\t\t\tpage: offset\r\n\t\t};\r\n\t\t\r\n\t\tlet response: AxiosResponse;\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await this.clientAPI.get<Array<IProductsResponse>>('/getProducts', {\r\n\t\t\t\tparams: body\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treturn err as AxiosError;\r\n\t\t}\r\n\r\n\t\treturn response.data;\r\n\t}\r\n\r\n\tstatic async getProductInfo(slug: string): Promise<IFullProduct | AxiosError>{\r\n\t\tlet response: AxiosResponse;\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await this.clientAPI.get<IFullProduct>(`/products/${slug}`);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treturn err as AxiosError;\r\n\t\t}\r\n\r\n\t\treturn response.data;\r\n\t}\r\n\r\n\tstatic async getComments(productID: number, offset: number = 1):\r\n\t\tPromise<ICommentsResponse | AxiosError>{\r\n\r\n\t\tlet response: AxiosResponse;\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await this.clientAPI.get<ICommentsResponse>(\r\n\t\t\t\t`/products/${productID}/getComments`, {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpage: offset\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treturn err as AxiosError;\r\n\t\t}\r\n\r\n\t\treturn response.data;\r\n\t}\r\n\r\n\tstatic async changeLike(productID: number): Promise<IChangeLikeResponse | AxiosError>{\r\n\t\tlet response: AxiosResponse;\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await this.clientAPI.post<IChangeLikeResponse>(\r\n\t\t\t\t`/products/${productID}/changeLike`\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treturn err as AxiosError;\r\n\t\t}\r\n\r\n\t\treturn response.data;\r\n\t}\r\n\r\n\tstatic async registerUser(vals: IRegisterFormData): Promise<any | AxiosError>{\r\n\t\tlet response: AxiosResponse;\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await this.clientAPI.post<any>('/register', vals);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treturn err as AxiosError;\r\n\t\t}\r\n\r\n\t\treturn response.data;\r\n\t}\r\n\r\n\tstatic isError(arg: any): arg is AxiosError{\r\n\t\treturn 'response' in arg;\r\n\t}\r\n}\r\n\r\nexport default API;\r\n"]}