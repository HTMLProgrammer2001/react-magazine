{"version":3,"sources":["components/SinglePage/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6BAA+B;AAK/B,yCAAoC;AACpC,wCAAmC;AACnC,sCAAiC;AACjC,8CAAyC;AAezC;IAAyB,8BAAyD;IACjF,oBAAY,KAA0B;QAAtC,YACC,kBAAM,KAAK,CAAC,SAOZ;QALA,KAAI,CAAC,KAAK,GAAG;YACZ,SAAS,EAAE,KAAK;YAChB,KAAK,EAAE,EAAE;YACT,OAAO,EAAE,IAAI;SACb,CAAC;;IACH,CAAC;IAEK,sCAAiB,GAAvB;;;;;;wBACC,IAAI,CAAC,QAAQ,CAAC;4BACb,SAAS,EAAE,IAAI;yBACf,CAAC,CAAC;wBAEmB,WAAM,aAAG,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAA;;wBAAxE,eAAe,GAAG,SAAsD;wBAE5E,IAAG,aAAG,CAAC,OAAO,CAAC,eAAe,CAAC,EAAC;4BAC/B,IAAI,CAAC,QAAQ,CAAC;gCACb,KAAK,EAAE,eAAe,CAAC,QAAS,CAAC,IAAI;6BACrC,CAAC,CAAC;yBACH;6BACG;4BACH,IAAI,CAAC,QAAQ,CAAC;gCACb,OAAO,EAAE,eAAe;6BACxB,CAAC,CAAC;yBACH;wBAED,IAAI,CAAC,QAAQ,CAAC;4BACb,SAAS,EAAE,KAAK;yBAChB,CAAC,CAAC;;;;;KACH;IAED,2BAAM,GAAN;QACC,OAAO,CACN,oBAAC,KAAK,CAAC,QAAQ;YACd,oBAAC,kBAAQ,IAAC,KAAK,EAAE;oBAChB,EAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAC;oBACzB,EAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,EAAC;iBAC5B,GAAG;YAEH,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,mDAA0B;YAGlD,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO;gBAC1C,oBAAC,KAAK,CAAC,QAAQ;oBACd,oBAAC,qBAAW,IAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG;oBAC3C,oBAAC,iBAAO,OAAE,CACM,CAEH,CACjB,CAAC;IACH,CAAC;IACF,iBAAC;AAAD,CAtDA,AAsDC,CAtDwB,KAAK,CAAC,SAAS,GAsDvC;AAED,kBAAe,UAAU,CAAC","file":"index.js","sourcesContent":["import * as React from 'react';\r\nimport {RouteComponentProps} from 'react-router-dom';\r\n\r\nimport {IFullProduct} from '../../Interfaces/IFullProduct';\r\n\r\nimport API from '../../Helpers/API';\r\nimport Paginate from '../Paginate';\r\nimport Reviews from './Reviews/';\r\nimport ProductInfo from './ProductInfo/';\r\n\r\n\r\ntype IRouteParams = {\r\n\tslug: string\r\n};\r\n\r\ntype ISingleProductState = {\r\n\tisLoading: boolean,\r\n\terror: string,\r\n\tproduct: IFullProduct | null\r\n}\r\n\r\ntype ISingleProductProps = RouteComponentProps<IRouteParams>;\r\n\r\nclass SinglePage extends React.Component<ISingleProductProps, ISingleProductState>{\r\n\tconstructor(props: ISingleProductProps){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisLoading: false,\r\n\t\t\terror: '',\r\n\t\t\tproduct: null\r\n\t\t};\r\n\t}\r\n\t\r\n\tasync componentDidMount(){\r\n\t\tthis.setState({\r\n\t\t\tisLoading: true\r\n\t\t});\r\n\r\n\t\tlet productInfoResp = await API.getProductInfo(this.props.match.params.slug);\r\n\r\n\t\tif(API.isError(productInfoResp)){\r\n\t\t\tthis.setState({\r\n\t\t\t\terror: productInfoResp.response!.data\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({\r\n\t\t\t\tproduct: productInfoResp\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tisLoading: false\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Paginate paths={[\r\n\t\t\t\t\t{name: 'Home', path: '/'},\r\n\t\t\t\t\t{name: 'Product', path: '/'}\r\n\t\t\t\t]}/>\r\n\r\n\t\t\t\t{this.state.isLoading && <div>Loading info...</div>}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t!this.state.isLoading && this.state.product &&\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<ProductInfo product={this.state.product}/>\r\n\t\t\t\t\t\t\t<Reviews/>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SinglePage;\r\n"]}