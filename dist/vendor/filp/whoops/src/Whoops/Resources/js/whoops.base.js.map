{"version":3,"file":"whoops.base.js","sourceRoot":"","sources":["../../../../../../../../vendor/filp/whoops/src/Whoops/Resources/js/whoops.base.js"],"names":[],"mappings":"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","sourcesContent":["Zepto(function($) {\n  var $leftPanel      = $('.left-panel');\n  var $frameContainer = $('.frames-container');\n  var $appFramesTab   = $('#application-frames-tab');\n  var $allFramesTab   = $('#all-frames-tab');\n  var $container      = $('.details-container');\n  var $activeLine     = $frameContainer.find('.frame.active');\n  var $activeFrame    = $container.find('.frame-code.active');\n  var $ajaxEditors    = $('.editor-link[data-ajax]');\n  var $header         = $('header');\n\n  $header.on('mouseenter', function () {\n    if ($header.find('.exception').height() >= 145) {\n      $header.addClass('header-expand');\n    }\n  });\n  $header.on('mouseleave', function () {\n    $header.removeClass('header-expand');\n  });\n\n  /*\n   * add prettyprint classes to our current active codeblock\n   * run prettyPrint() to highlight the active code\n   * scroll to the line when prettyprint is done\n   * highlight the current line\n   */\n  var renderCurrentCodeblock = function(id) {\n\n    // remove previous codeblocks so we only render the active one\n    $('.code-block').removeClass('prettyprint');\n\n    // pass the id in when we can for speed\n    if (typeof(id) === 'undefined' || typeof(id) === 'object') {\n      var id = /frame\\-line\\-([\\d]*)/.exec($activeLine.attr('id'))[1];\n    }\n\n    $('#frame-code-linenums-' + id).addClass('prettyprint');\n    $('#frame-code-args-' + id).addClass('prettyprint');\n\n    prettyPrint(highlightCurrentLine);\n\n  }\n\n  /*\n   * Highlight the active and neighboring lines for the current frame\n   * Adjust the offset to make sure that line is veritcally centered\n   */\n\n  var highlightCurrentLine = function() {\n    var activeLineNumber = +($activeLine.find('.frame-line').text());\n    var $lines           = $activeFrame.find('.linenums li');\n    var firstLine        = +($lines.first().val());\n\n    // We show more code than needed, purely for proper syntax highlighting\n    // Let’s hide a big chunk of that code and then scroll the remaining block\n    $activeFrame.find('.code-block').first().css({\n      maxHeight: 345,\n      overflow: 'hidden',\n    });\n\n    var $offset = $($lines[activeLineNumber - firstLine - 10]);\n    if ($offset.length > 0) {\n      $offset[0].scrollIntoView();\n    }\n\n    $($lines[activeLineNumber - firstLine - 1]).addClass('current');\n    $($lines[activeLineNumber - firstLine]).addClass('current active');\n    $($lines[activeLineNumber - firstLine + 1]).addClass('current');\n\n    $container.scrollTop(0);\n\n  }\n\n  /*\n   * click handler for loading codeblocks\n   */\n\n  $frameContainer.on('click', '.frame', function() {\n\n    var $this  = $(this);\n    var id     = /frame\\-line\\-([\\d]*)/.exec($this.attr('id'))[1];\n    var $codeFrame = $('#frame-code-' + id);\n\n    if ($codeFrame) {\n\n      $activeLine.removeClass('active');\n      $activeFrame.removeClass('active');\n\n      $this.addClass('active');\n      $codeFrame.addClass('active');\n\n      $activeLine  = $this;\n      $activeFrame = $codeFrame;\n\n      renderCurrentCodeblock(id);\n\n    }\n\n  });\n\n  var clipboard = new Clipboard('.clipboard');\n  var showTooltip = function(elem, msg) {\n    elem.setAttribute('class', 'clipboard tooltipped tooltipped-s');\n    elem.setAttribute('aria-label', msg);\n  };\n\n  clipboard.on('success', function(e) {\n      e.clearSelection();\n\n      showTooltip(e.trigger, 'Copied!');\n  });\n\n  clipboard.on('error', function(e) {\n      showTooltip(e.trigger, fallbackMessage(e.action));\n  });\n\n  var btn = document.querySelector('.clipboard');\n\n  btn.addEventListener('mouseleave', function(e) {\n    e.currentTarget.setAttribute('class', 'clipboard');\n    e.currentTarget.removeAttribute('aria-label');\n  });\n\n  function fallbackMessage(action) {\n    var actionMsg = '';\n    var actionKey = (action === 'cut' ? 'X' : 'C');\n\n    if (/Mac/i.test(navigator.userAgent)) {\n        actionMsg = 'Press ⌘-' + actionKey + ' to ' + action;\n    } else {\n        actionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;\n    }\n\n    return actionMsg;\n  }\n\n  function scrollIntoView($node, $parent) {\n    var nodeOffset = $node.offset();\n    var nodeTop = nodeOffset.top;\n    var nodeBottom = nodeTop + nodeOffset.height;\n    var parentScrollTop = $parent.scrollTop();\n    var parentHeight = $parent.height();\n\n    if (nodeTop < 0) {\n      $parent.scrollTop(parentScrollTop + nodeTop);\n    } else if (nodeBottom > parentHeight) {\n      $parent.scrollTop(parentScrollTop + nodeBottom - parentHeight);\n    }\n  }\n\n  $(document).on('keydown', function(e) {\n    var applicationFrames = $frameContainer.hasClass('frames-container-application'),\n        frameClass = applicationFrames ? '.frame.frame-application' : '.frame';\n\n\t  if(e.ctrlKey || e.which === 74  || e.which === 75) {\n\t\t  // CTRL+Arrow-UP/k and Arrow-Down/j support:\n\t\t  // 1) select the next/prev element\n\t\t  // 2) make sure the newly selected element is within the view-scope\n\t\t  // 3) focus the (right) container, so arrow-up/down (without ctrl) scroll the details\n\t\t  if (e.which === 38 /* arrow up */ || e.which === 75 /* k */) {\n\t\t\t  $activeLine.prev(frameClass).click();\n\t\t\t  scrollIntoView($activeLine, $leftPanel);\n\t\t\t  $container.focus();\n\t\t\t  e.preventDefault();\n\t\t  } else if (e.which === 40 /* arrow down */ || e.which === 74 /* j */) {\n\t\t\t  $activeLine.next(frameClass).click();\n\t\t\t  scrollIntoView($activeLine, $leftPanel);\n\t\t\t  $container.focus();\n\t\t\t  e.preventDefault();\n\t\t  }\n\t  } else if (e.which == 78 /* n */) {\n      if ($appFramesTab.length) {\n        setActiveFramesTab($('.frames-tab:not(.frames-tab-active)'));\n      }\n    }\n  });\n\n  // Render late enough for highlightCurrentLine to be ready\n  renderCurrentCodeblock();\n\n  // Avoid to quit the page with some protocol (e.g. IntelliJ Platform REST API)\n  $ajaxEditors.on('click', function(e){\n    e.preventDefault();\n    $.get(this.href);\n  });\n\n  // Symfony VarDumper: Close the by default expanded objects\n  $('.sf-dump-expanded')\n    .removeClass('sf-dump-expanded')\n    .addClass('sf-dump-compact');\n  $('.sf-dump-toggle span').html('&#9654;');\n\n  // Make the given frames-tab active\n  function setActiveFramesTab($tab) {\n    $tab.addClass('frames-tab-active');\n\n    if ($tab.attr('id') == 'application-frames-tab') {\n      $frameContainer.addClass('frames-container-application');\n      $allFramesTab.removeClass('frames-tab-active');\n    } else {\n      $frameContainer.removeClass('frames-container-application');\n      $appFramesTab.removeClass('frames-tab-active');\n    }\n  }\n\n  $('a.frames-tab').on('click', function(e) {\n    e.preventDefault();\n    setActiveFramesTab($(this));\n  });\n});\n"]}